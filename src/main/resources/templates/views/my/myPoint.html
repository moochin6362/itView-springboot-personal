<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>λ‚΄ ν¬μΈνΈ</title>

  <!-- κ³µν†µ λ μ΄μ•„μ›ƒ CSS -->
  <link rel="stylesheet" th:href="@{/css/user/userCommon.css}" />

  <!-- νμ΄μ§€ μ „μ© CSS -->
  <link rel="stylesheet" th:href="@{/css/user/myPoint.css}" />

  <!-- μ•„μ΄μ½ -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css" />
</head>
<body>

  <!-- β… κ³µν†µ ν—¤λ”/μ‚¬μ΄λ“λ°” include -->
  <div th:replace="~{common/myHeader}"></div>
  <div th:replace="~{common/mySidebar}"></div>

  <main class="page">
    <!-- μƒλ‹¨ νƒ€μ΄ν‹€λ°” -->
    <div class="page-topbar">
      <h1 class="page-title">ν¬μΈνΈ</h1>
      <div class="page-actions">
        <button class="icon-btn" aria-label="μ•λ¦Ό">π””</button>
        <button class="icon-btn" aria-label="μ¥λ°”κµ¬λ‹">π›οΈ</button>
      </div>
    </div>

    <!-- ν¬μΈνΈ μΉ΄λ“ -->
    <section class="point-card card" aria-labelledby="pointHeading">
      <div class="card-left">
        <h2 id="pointHeading" class="card-title">λ‚΄ ν¬μΈνΈ</h2>
        <div class="point-big" th:text="${pointBalance} + 'P'">15P</div>
        <p class="muted" th:text="${expireSoonText}">
          ν¬μΈνΈ μ‚¬μ© λ§λ£κΈ°κ°„μ€ 3λ…„μ…λ‹λ‹Ή
        </p>
      </div>
      <button class="info" type="button" aria-label="ν¬μΈνΈ μ•λ‚΄">
        <i class="fa-solid fa-circle-info" aria-hidden="true"></i>
      </button>
    </section>

    <!-- ν•„ν„° νƒ­ -->
    <nav class="tabs" aria-label="ν¬μΈνΈ λ‚΄μ—­ ν•„ν„°">
      <button class="tab active" type="button" data-filter="all">μ „μ²΄</button>
      <button class="tab" type="button" data-filter="save">μ λ¦½</button>
      <button class="tab" type="button" data-filter="use">μ‚¬μ©</button>
      <button class="tab" type="button" data-filter="expire">μ†λ©Έ</button>
    </nav>

    <!-- ν¬μΈνΈ λ‚΄μ—­ -->
    <section class="history" aria-live="polite">
      <div class="month">2025λ…„ 08μ›”</div>

      <div class="row" data-type="save">
        <div>
          <p class="row-title">λ¦¬λ·° μ‘μ„± λ³΄μƒ</p>
          <div class="date">2025-08-20 14:21</div>
        </div>
        <div class="right">
          <div class="amount plus">+200P</div>
          <div class="expire">μ†λ©Έ μμ •μΌ: 2026-08-20</div>
        </div>
      </div>

      <div class="row" data-type="use">
        <div>
          <p class="row-title">μ£Όλ¬Έ κ²°μ  μ‚¬μ©</p>
          <div class="date">2025-08-18 09:12</div>
        </div>
        <div class="right">
          <div class="amount">-150P</div>
        </div>
      </div>

      <div class="row" data-type="expire">
        <div>
          <p class="row-title">ν¬μΈνΈ μ†λ©Έ</p>
          <div class="date">2022-08-01 00:00</div>
        </div>
        <div class="right">
          <div class="amount">-30P</div>
        </div>
      </div>

      <div class="month">2025λ…„ 07μ›”</div>

      <div class="row" data-type="save">
        <div>
          <p class="row-title">μ‹ κ· κ°€μ… μ¶•ν•</p>
          <div class="date">2025-07-28 11:00</div>
        </div>
        <div class="right">
          <div class="amount plus">+1000P</div>
          <div class="expire">μ†λ©Έ μμ •μΌ: 2026-07-28</div>
        </div>
      </div>
    </section>
  </main>

  <!-- νƒ­ ν•„ν„° μ¤ν¬λ¦½νΈ -->
  <script>
    (function(){
      const tabs = document.querySelectorAll('.tabs .tab');
      const rows = document.querySelectorAll('.history .row');
      tabs.forEach(tab=>{
        tab.addEventListener('click', ()=>{
          tabs.forEach(t=>t.classList.remove('active'));
          tab.classList.add('active');
          const type = tab.dataset.filter;
          rows.forEach(r=>{
            r.style.display = (type === 'all' || r.dataset.type === type) ? '' : 'none';
          });
        });
      });
    })();
  </script>
</body>
</html>
