<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì‡¼í•‘ëª° ì˜ˆì œ</title>
  <style>
    .board-title {
      font-weight: 700;
      font-size: 1.5rem;
      color: #333;
      border-left: 6px solid #6ec1e4;
      padding-left: 10px;
      margin-bottom: 20px;
    }

    .notice-table {
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.08);
    }

    .notice-table thead {
      background-color: #6ec1e4;
      color: #fff;
    }

    .notice-table th,
    .notice-table td {
      text-align: center;
      vertical-align: middle;
      padding: 15px;
    }

    .notice-table tbody tr:hover {
      background-color: #f2faff;
      cursor: pointer;
    }

    /* ê²€ìƒ‰ì°½ & ë²„íŠ¼ */
    .search-form input.form-control {
        height: 36px;          /* ë†’ì´ ì¡°ì • */
        font-size: 0.9rem;     /* í°íŠ¸ í¬ê¸° ì‘ê²Œ */
        padding: 0 10px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }

    .search-form select.form-select {
        height: 36px;
        font-size: 0.9rem;
        border-radius: 6px;
        border: 1px solid #ccc;
    }

    .search-form .btn-search {
        height: 36px;
        padding: 0 15px;
        font-size: 0.7rem;
        background-color: #6ec1e4;
        color: #fff;
        border: none;
        border-radius: 6px;
        transition: background-color 0.3s;
    }

    .search-form .btn-search:hover {
        background-color: #5ab0d8;
    }

  </style>
</head>
<body>

<div th:replace="~{common/header :: header}"></div>

<main class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="board-title">ğŸ“¢ ê³µì§€ì‚¬í•­</h2>
    <form th:action="@{/notice/list}" method="get" class="d-flex align-items-center search-form">
      <input type="text" name="keyword" class="form-control me-2" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" th:value="${keyword}">
      <select name="type" class="form-select me-2">
        <option value="title" th:selected="${type=='title'}">ì œëª©</option>
        <option value="content" th:selected="${type=='content'}">ë‚´ìš©</option>
        <option value="all" th:selected="${type=='all'}">ì œëª©+ë‚´ìš©</option>
      </select>
      <button type="submit" class="btn btn-search">ê²€ìƒ‰</button>
    </form>
  </div>



  <!-- ê³µì§€ì‚¬í•­ ë¦¬ìŠ¤íŠ¸ -->
  <div class="notice-table">
    <table class="table table-hover mb-0">
      <thead>
      <tr>
        <th style="width: 10%">ë²ˆí˜¸</th>
        <th style="width: 50%">ì œëª©</th>
        <th style="width: 20%">ì‘ì„±ì</th>
        <th style="width: 20%">ë‚ ì§œ</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="notice : ${notices}"
          th:onclick="|location.href='/notice/detail?boardId=${notice.boardId}&page=${pi.currentPage}'|"
          style="cursor:pointer;">
        <td>[[${notice.boardId}]]</td>
          <td class="text-start">
                      <span th:switch="${notice.boardType}">
                        <span th:case="1">[ê³µì§€ì‚¬í•­]</span>
                        <span th:case="2">[ì´ë²¤íŠ¸]</span>
                        <span th:case="3">[ë¬¸ì˜ì‚¬í•­]</span>
                        <span th:case="4">[ì¿ í°]</span>
                        <span th:case="5">[ì»¤ë®¤ë‹ˆí‹°]</span>
                      </span>
              [[${notice.boardTitle}]]
          </td>
        <td>ê´€ë¦¬ì</td>
        <td>[[${notice.boardDate}]]</td>
      </tr>
      </tbody>
    </table>
  </div>

  <br/>

  <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
  <nav aria-label="Standard pagination example" class="d-flex justify-content-end">
    <ul class="pagination">

      <!-- ì´ì „ ë²„íŠ¼ -->
      <li class="page-item" th:classappend="${pi.currentPage == 1} ? 'disabled'">
        <a class="page-link"
           th:if="${pi.currentPage > 1}"
           th:href="@{${loc}(page=${pi.currentPage-1})}"
           aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
        <span class="page-link" th:unless="${pi.currentPage > 1}">&laquo;</span>
      </li>

      <!-- í˜ì´ì§€ ë²ˆí˜¸ -->
      <li class="page-item" th:each="p : ${#numbers.sequence(pi.startPage, pi.endPage)}"
          th:classappend="${p == pi.currentPage} ? 'active'">
        <a class="page-link" th:href="@{${loc}(page=${p})}">[[${p}]]</a>
      </li>

      <!-- ë‹¤ìŒ ë²„íŠ¼ -->
      <li class="page-item" th:classappend="${pi.currentPage == pi.maxPage} ? 'disabled'">
        <a class="page-link"
           th:if="${pi.currentPage < pi.maxPage}"
           th:href="@{${loc}(page=${pi.currentPage+1})}"
           aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
        <span class="page-link" th:unless="${pi.currentPage < pi.maxPage}">&raquo;</span>
      </li>

    </ul>
  </nav>

  <!-- ë“±ë¡ ë²„íŠ¼ (í˜ì´ì§€ë„¤ì´ì…˜ ì•„ë˜ìª½ì— ìœ„ì¹˜) -->
  <div th:if="${session.loginUser != null and session.loginUser.userType == 'A'}"
       class="d-flex justify-content-end mt-3"
       style="clear: both;">
    <a href="/notice/write" class="btn btn-primary px-4">
      ë“±ë¡
    </a>
  </div>
</main>

<div th:replace="~{common/footer :: footer}"></div>

</body>
</html>
